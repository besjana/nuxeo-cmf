<div xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:c="http://java.sun.com/jstl/core" class="menu"
  xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
  xmlns:nxd="http://nuxeo.org/nxweb/document"
  xmlns:nxh="http://nuxeo.org/nxweb/html"
  xmlns:nxu="http://nuxeo.org/nxweb/util"><h:form
  rendered="#{!currentUser.anonymous}">

  <h:panelGroup>
    <div class="userMailboxes">
    <div class="userMailboxesContent">
    
    <h4><h:outputText value="#{messages['label.routeListTitle']}" /></h4>

    <div>
    <f:subview rendered="#{!empty routeFolderRoots}">
      <nxu:dataList var="routeFolderRoot" value="#{routeFolderRoots}"
        layout="unorderedList"
        itemStyleClass="#{nxu:test(routeFolderRoot.id == currentRouteRoot.id, 'selected', '')}">
        <f:subview rendered="#{routeFolderRoot.id == currentRouteRoot.id}">
          <nxd:restDocumentLink styleClass="permalink" document="#{routeFolderRoot}"
              newConversation="true" target="_BLANK">
            <img src="icons/external.gif" style="vertical-align: top"
                 alt="#{messages['permalink.newTab']}"
                 title="#{messages['permalink.newTab']}" />
          </nxd:restDocumentLink>
          <nxd:restDocumentLink styleClass="permalink" document="#{routeFolderRoot}">
            <nxh:outputText value="#{routeFolderRoot.title}" />
          </nxd:restDocumentLink>
        </f:subview>
        <f:subview rendered="#{routeFolderRoot.id != currentRouteRoot.id}">
          <nxd:restDocumentLink styleClass="permalink" document="#{routeFolderRoot}"
            newConversation="true" target="_BLANK">
            <img src="icons/external.gif" style="vertical-align: top"
              alt="#{messages['permalink.newTab']}"
              title="#{messages['permalink.newTab']}" />
          </nxd:restDocumentLink>
          <nxd:restDocumentLink styleClass="permalink" document="#{routeFolderRoot}">
            <nxh:outputText value="#{routeFolderRoot.title}" />
          </nxd:restDocumentLink>
        </f:subview>
      </nxu:dataList>
    </f:subview> <f:subview rendered="#{empty routeFolderRoots}">
      <div class="userMailboxesEmptyMessage"><h:outputText
        value="#{messages['label.casemanagement.routes.empty']}" /></div>
    </f:subview></div>
    </div>

    <!-- Bottom of the rounded box -->

    <p class="nobottomgap"></p>
    </div>

    <div class="bottom-left"></div>
    <div class="bottom-right"></div>

  </h:panelGroup>

</h:form></div>
