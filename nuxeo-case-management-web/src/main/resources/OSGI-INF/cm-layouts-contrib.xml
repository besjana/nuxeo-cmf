<?xml version="1.0" encoding="UTF-8"?>
<component name="com.nuxeo.correspondence.layouts">

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="widgets">

    <widget name="casefolder_id" type="text">
      <labels>
        <label mode="any">label.casefolder.id</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>csfd:case_folder_id</field>
      </fields>
      <widgetModes>
        <mode value="create">hidden</mode>
        <mode value="any">view</mode>
      </widgetModes>
      <properties widgetMode="edit">
        <property name="validator">
          #{cmCaseFolderActions.validateMailboxId}
        </property>
        <property name="required">true</property>
        <property name="styleClass">dataInputText</property>
      </properties>
    </widget>

    <widget name="casefolder_title" type="text">
      <labels>
        <label mode="any">title</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>dc:title</field>
      </fields>
      <properties widgetMode="edit">
        <property name="required">true</property>
        <property name="styleClass">dataInputText</property>
      </properties>
    </widget>

    <widget name="casefolder_description" type="textarea">
      <labels>
        <label mode="any">description</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>dc:description</field>
      </fields>
      <properties widgetMode="edit">
        <property name="styleClass">dataInputText</property>
      </properties>
    </widget>

    <widget name="casefolder_type" type="template">
      <labels>
        <label mode="any">label.casefolder.type</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>csfd:type</field>
      </fields>
      <!-- do not change type after creation -->
      <widgetModes>
        <mode value="create">edit</mode>
        <mode value="any">view</mode>
      </widgetModes>
      <properties mode="any">
        <property name="template">
          /casemanagement_widgets/casefolder_type_widget_template.xhtml
        </property>
      </properties>
      <properties widgetMode="edit">
        <property name="required">true</property>
        <property name="styleClass">dataInputText</property>
      </properties>
    </widget>

    <widget name="casefolder_profiles" type="selectManyDirectory">
      <fields>
        <field>csfd:profiles</field>
      </fields>
      <labels>
        <label mode="any">label.casemanagement.document.profiles</label>
      </labels>
      <translated>true</translated>
      <properties widgetMode="any">
        <!-- TODO: restrict values according to current user accreditation -->
        <property name="directoryName">cm_casefolder_profile</property>
        <property name="localize">true</property>
      </properties>
      <properties widgetMode="edit">
        <property name="notDisplayDefaultOption">true</property>
        <property name="ordering">label</property>
      </properties>
    </widget>

    <widget name="casefolder_affiliation" type="template">
      <labels>
        <label mode="any">label.casefolder.affiliatedCaseFolder</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field>csfd:affiliated_case_folder_id</field>
      </fields>
      <properties mode="any">
        <property name="template">
          /casemanagement_widgets/single_casefolder_suggestion_widget_template.xhtml
        </property>
      </properties>
      <properties mode="edit">
        <property name="casefolderSuggestionSearchType">generic</property>
      </properties>
    </widget>

    <widget name="casefolder_parent" type="template">
      <labels>
        <label mode="any">label.casemanagement.parentCaseFolder</label>
      </labels>
      <translated>true</translated>
      <fields>
        <field></field>
      </fields>
      <!-- do not change parent after creation -->
      <widgetModes>
        <mode value="create">edit</mode>
        <mode value="any">view</mode>
      </widgetModes>
      <properties mode="any">
        <property name="template">
          /casemanagement_widgets/parent_casefolder_suggestion_widget_template.xhtml
        </property>
      </properties>
    </widget>

    <widget name="casefolder_owner" type="template">
      <fields>
        <field>csfd:owner</field>
      </fields>
      <labels>
        <label mode="any">label.casefolder.owner</label>
      </labels>
      <translated>true</translated>
      <!-- do not change a personal casefolder owner -->
      <widgetModes>
        <mode value="create">edit</mode>
        <mode value="edit">
          #{nxu:test(layoutValue.csfd.type=='personal', 'view', 'edit')}
        </mode>
      </widgetModes>
      <properties mode="any">
        <property name="template">
          /widgets/single_user_suggestion_widget_template.xhtml
        </property>
      </properties>
      <properties widgetMode="edit">
        <property name="required">true</property>
        <property name="userSuggestionSearchType">USER_TYPE</property>
      </properties>
    </widget>

    <!-- XXX: depends on casefolder_owner and casefolder_type widget names:
      throws an error when trying to create a personal casefolder for a user
      who already has one -->
    <widget name="casefolder_validate_personal_owner" type="template">
      <labels>
        <label mode="any"></label>
      </labels>
      <translated>true</translated>
      <widgetModes>
        <mode value="create">edit</mode>
        <mode value="any">hidden</mode>
      </widgetModes>
      <properties widgetMode="edit">
        <property name="template">
          /casemanagement_widgets/casefolder_personal_owner_validation_widget_template.xhtml
        </property>
      </properties>
    </widget>

    <widget name="casefolder_users" type="template">
      <fields>
        <field>csfd:users</field>
      </fields>
      <labels>
        <label mode="any">label.casefolder.users</label>
      </labels>
      <translated>true</translated>
      <properties mode="any">
        <property name="template">
          /widgets/user_suggestion_widget_template.xhtml
        </property>
      </properties>
      <properties widgetMode="edit">
        <property name="userSuggestionSearchType">USER_TYPE</property>
      </properties>
    </widget>

    <widget name="casefolder_groups" type="template">
      <fields>
        <field>csfd:groups</field>
      </fields>
      <labels>
        <label mode="any">label.casefolder.groups</label>
      </labels>
      <translated>true</translated>
      <properties mode="any">
        <property name="template">
          /widgets/user_suggestion_widget_template.xhtml
        </property>
      </properties>
      <properties widgetMode="edit">
        <property name="userSuggestionSearchType">GROUP_TYPE</property>
      </properties>
    </widget>

  </extension>

  <extension target="org.nuxeo.ecm.platform.forms.layout.WebLayoutManager"
    point="layouts">

    <layout name="cm_casefolder">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>casefolder_id</widget>
        </row>
        <row>
          <widget>casefolder_title</widget>
        </row>
        <row>
          <widget>casefolder_description</widget>
        </row>
        <row>
          <widget>casefolder_type</widget>
        </row>
        <row>
          <widget>casefolder_owner</widget>
        </row>
        <row>
          <widget>casefolder_validate_personal_owner</widget>
        </row>
        <row>
          <widget>casefolder_profiles</widget>
        </row>
        <row>
          <widget>casefolder_parent</widget>
        </row>
        <row>
          <widget>casefolder_affiliation</widget>
        </row>
      </rows>
    </layout>

    <layout name="cm_casefolder_managers">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>casefolder_users</widget>
        </row>
        <row>
          <widget>casefolder_groups</widget>
        </row>
      </rows>
    </layout>

    <layout name="cm_participants">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>action_participants</widget>
        </row>
        <row>
          <widget>copy_participants</widget>
        </row>
      </rows>
      <widget name="action_participants" type="template">
        <labels>
          <label mode="any">
            label.casemanagement.distribution.actionParticipants
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>forActionCaseFolders</field>
        </fields>
        <properties mode="any">
          <property name="template">
            /casemanagement_widgets/casefolder_suggestion_widget_template.xhtml
          </property>
        </properties>
      </widget>
      <widget name="copy_participants" type="template">
        <labels>
          <label mode="any">label.distribution.copyParticipants</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>forInformationCaseFolders</field>
        </fields>
        <properties mode="any">
          <property name="template">
            /casemanagement_widgets/casefolder_suggestion_widget_template.xhtml
          </property>
        </properties>
      </widget>
    </layout>

    <layout name="head_cm_document">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>senders</widget>
        </row>
        <row>
          <widget>document_date</widget>
        </row>
        <row>
          <widget>receive_date</widget>
        </row>
        <row>
          <widget>sending_date</widget>
        </row>
        <row>
          <widget>initial_action_internal_participant_casefolders</widget>
        </row>
        <row>
          <widget>initial_copy_internal_participant_casefolders</widget>
        </row>
        <row>
          <widget>initial_action_external_participant_casefolders</widget>
        </row>
        <row>
          <widget>initial_copy_external_participant_casefolders</widget>
        </row>
        <row>
          <widget>reference</widget>
        </row>
      </rows>
      <widget name="senders" type="list">
        <labels>
          <label mode="any">label.casemanagement.document.senders</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:senders</field>
        </fields>
        <subWidgets>
          <widget name="sender" type="text">
            <labels>
              <label mode="any"></label>
            </labels>
            <fields>
              <field></field>
            </fields>
            <properties mode="edit">
              <property name="styleClass">dataInputText</property>
            </properties>
          </widget>
        </subWidgets>
      </widget>
      <widget name="document_date" type="datetime">
        <labels>
          <label mode="any">label.correspondence.document.document_date</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:document_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
      </widget>
      <widget name="receive_date" type="datetime">
        <labels>
          <label mode="any">label.casemanagement.document.receive_date</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:receive_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
      </widget>
      <widget name="sending_date" type="datetime">
        <labels>
          <label mode="any">label.casemanagement.document.sending_date</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:sending_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
      </widget>
      <widget name="initial_action_internal_participant_casefolders" type="list">
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.internal.action
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdist:initial_action_internal_participant_case_folders</field>
        </fields>
        <subWidgets>
          <widget type="text">
            <labels>
              <label mode="any"></label>
            </labels>
            <fields>
              <field></field>
            </fields>
            <properties mode="edit">
              <property name="styleClass">dataInputText</property>
            </properties>
          </widget>
        </subWidgets>
      </widget>
      <widget name="initial_copy_internal_participant_casefolders" type="list">
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.internal.information
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdist:initial_copy_internal_participant_case_folders</field>
        </fields>
        <subWidgets>
          <widget type="text">
            <labels>
              <label mode="any"></label>
            </labels>
            <fields>
              <field></field>
            </fields>
            <properties mode="edit">
              <property name="styleClass">dataInputText</property>
            </properties>
          </widget>
        </subWidgets>
      </widget>
      <widget name="initial_action_external_participant_casefolders" type="list">
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.external.action
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdist:initial_action_external_participant_case_folders</field>
        </fields>
        <subWidgets>
          <widget type="text">
            <labels>
              <label mode="any"></label>
            </labels>
            <fields>
              <field></field>
            </fields>
            <properties mode="edit">
              <property name="styleClass">dataInputText</property>
            </properties>
          </widget>
        </subWidgets>
      </widget>
      <widget name="initial_copy_external_participant_casefolders" type="list">
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.external.information
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdist:initial_copy_external_participant_case_folders</field>
        </fields>
        <subWidgets>
          <widget type="text">
            <labels>
              <label mode="any"></label>
            </labels>
            <fields>
              <field></field>
            </fields>
            <properties mode="edit">
              <property name="styleClass">dataInputText</property>
            </properties>
          </widget>
        </subWidgets>
      </widget>
      <widget name="reference" type="text">
        <labels>
          <label mode="any">label.casemanagement.document.reference</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:reference</field>
        </fields>
        <properties widgetMode="edit">
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
    </layout>

    <layout name="cm_document">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>title</widget>
        </row>
        <row>
          <widget>document_type</widget>
        </row>
        <row>
          <widget>contactsParticipants</widget>
        </row>
        <row>
          <widget>document_date</widget>
        </row>
        <row>
          <widget>receive_date</widget>
        </row>
        <row>
          <widget>contactsSenders</widget>
        </row>
        <row>
          <widget>confidentiality</widget>
        </row>
        <row>
          <widget>origin</widget>
        </row>
        <row>
          <widget>reference</widget>
        </row>
        <row>
          <widget>body</widget>
        </row>
      </rows>
      <widget name="title" type="text">
        <labels>
          <label mode="any">title</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>dc:title</field>
        </fields>
        <properties widgetMode="edit">
          <property name="required">true</property>
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="document_type" type="selectOneDirectory">
        <fields>
          <field>cmdoc:type</field>
        </fields>
        <labels>
          <label mode="any">label.correspondence.document.type</label>
        </labels>
        <translated>true</translated>
        <properties widgetMode="any">
          <property name="directoryName">cm_document_type</property>
          <property name="localize">true</property>
        </properties>
        <properties widgetMode="edit">
          <property name="notDisplayDefaultOption">true</property>
          <property name="ordering">label</property>
          <property name="required">true</property>
        </properties>
      </widget>

      <widget name="contactsParticipants" type="template">
        <labels>
          <label mode="any">
            label.casemanagement.document.contactsParticipants
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmct:participantsContacts</field>
        </fields>
        <properties mode="any">
          <property name="template">/casemanagement_widgets/contacts_template.xhtml</property>
        </properties>
        <subWidgets>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.name</label>
            </labels>
            <fields>
              <field>name</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.surname</label>
            </labels>
            <fields>
              <field>surname</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.service</label>
            </labels>
            <fields>
              <field>service</field>
            </fields>
          </widget>
        </subWidgets>
      </widget>
      <widget name="document_date" type="datetime">
        <labels>
          <label mode="any">label.correspondence.document.document_date</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:document_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
      </widget>
      <widget name="receive_date" type="datetime">
        <labels>
          <label mode="any">label.casemanagement.document.receive_date</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:receive_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
      </widget>
      <widget name="contactsSenders" type="template">
        <labels>
          <label mode="any">
            label.casemanagement.document.contactsSenders
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmct:sendersContacts</field>
        </fields>
        <properties mode="any">
          <property name="template">/casemanagement_widgets/contacts_template.xhtml</property>
        </properties>
        <subWidgets>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.name</label>
            </labels>
            <fields>
              <field>name</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.surname</label>
            </labels>
            <fields>
              <field>surname</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.service</label>
            </labels>
            <fields>
              <field>service</field>
            </fields>
          </widget>
        </subWidgets>
      </widget>
      <widget name="confidentiality" type="selectOneDirectory">
        <fields>
          <field>cmdoc:confidentiality</field>
        </fields>
        <labels>
          <label mode="any">
            label.casemanagement.document.confidentiality
          </label>
        </labels>
        <translated>true</translated>
        <properties widgetMode="any">
          <!-- TODO: restrict values according to current user accreditation -->
          <property name="directoryName">
            cm_confidentiality
          </property>
          <property name="localize">true</property>
        </properties>
        <properties widgetMode="edit">
          <property name="notDisplayDefaultOption">true</property>
          <property name="ordering">label</property>
          <property name="required">true</property>
        </properties>
      </widget>
      <widget name="origin" type="text">
        <labels>
          <label mode="any">label.casemanagement.document.origin</label>
        </labels>
        <translated>true</translated>
        <fields>
          list
          <field>cmdoc:origin</field>
        </fields>
        <properties widgetMode="edit">
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="reference" type="text">
        <labels>
          <label mode="any">label.casemanagement.document.reference</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:reference</field>
        </fields>
        <properties widgetMode="edit">
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="body" type="htmltext">
        <labels>
          <label mode="any">label.casemanagement.document.body</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:body</field>
        </fields>
      </widget>
    </layout>

    <layout name="edit_cm_document">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>title</widget>
        </row>
        <row>
          <widget>document_date</widget>
        </row>
        <row>
          <widget>contactsSenders</widget>
        </row>
        <row>
          <widget>contactsRecipients</widget>
        </row>
        <row>
          <widget>document_type</widget>
        </row>
        <row>
          <widget>confidentiality</widget>
        </row>
      </rows>
      <widget name="title" type="text">
        <labels>
          <label mode="any">title</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>dc:title</field>
        </fields>
        <properties widgetMode="edit">
          <property name="required">true</property>
          <property name="styleClass">dataInputText</property>
        </properties>
      </widget>
      <widget name="document_date" type="datetime">
        <labels>
          <label mode="any">label.correspondence.document.document_date</label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdoc:document_date</field>
        </fields>
        <properties widgetMode="view">
          <property name="pattern">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
        <properties widgetMode="edit">
          <property name="format">#{nxu:basicDateAndTimeFormater()}</property>
        </properties>
      </widget>
      <widget name="contactsSenders" type="template">
        <labels>
          <label mode="any">
            label.casemanagement.document.contactsSenders
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmct:sendersContacts</field>
        </fields>
        <properties mode="any">
          <property name="template">/casemanagement_widgets/contacts_template.xhtml</property>
        </properties>
        <subWidgets>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.name</label>
            </labels>
            <fields>
              <field>name</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.surname</label>
            </labels>
            <fields>
              <field>surname</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.service</label>
            </labels>
            <fields>
              <field>service</field>
            </fields>
          </widget>
        </subWidgets>
      </widget>
      <widget name="document_type" type="selectOneDirectory">
        <fields>
          <field>cmdoc:type</field>
        </fields>
        <labels>
          <label mode="any">label.correspondence.document.type</label>
        </labels>
        <translated>true</translated>
        <properties widgetMode="any">
          <property name="directoryName">cm_document_type</property>
          <property name="localize">true</property>
        </properties>
        <properties widgetMode="edit">
          <property name="notDisplayDefaultOption">true</property>
          <property name="ordering">label</property>
          <property name="required">true</property>
        </properties>
      </widget>
      <widget name="confidentiality" type="selectOneDirectory">
        <fields>
          <field>cmdoc:confidentiality</field>
        </fields>
        <labels>
          <label mode="any">
            label.casemanagement.document.confidentiality
          </label>
        </labels>
        <translated>true</translated>
        <properties widgetMode="any">
          <!-- TODO: restrict values according to current user accreditation -->
          <property name="directoryName">
            cm_confidentiality
          </property>
          <property name="localize">true</property>
        </properties>
        <properties widgetMode="edit">
          <property name="notDisplayDefaultOption">true</property>
          <property name="ordering">label</property>
          <property name="required">true</property>
        </properties>
      </widget>
      <widget name="contactsRecipients" type="template">
        <labels>
          <label mode="any">
            label.casemanagement.document.contactsParticipants
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmct:participantsContacts</field>
        </fields>
        <properties mode="any">
          <property name="template">/casemanagement_widgets/contacts_template.xhtml</property>
        </properties>
        <subWidgets>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.name</label>
            </labels>
            <fields>
              <field>name</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.surname</label>
            </labels>
            <fields>
              <field>surname</field>
            </fields>
          </widget>
          <widget name="sender" type="text">
            <labels>
              <label mode="any">label.correspondence.document.service</label>
            </labels>
            <fields>
              <field>service</field>
            </fields>
          </widget>
        </subWidgets>
      </widget>
    </layout>

    <layout name="distribution_caselink">

      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>

      <rows>
        <row>
          <widget>initial_action_external_participant_casefolders</widget>
        </row>
        <row>
          <widget>initial_copy_external_participant_casefolders</widget>
        </row>
        <row>
          <widget>initial_action_internal_participant_casefolders</widget>
        </row>
        <row>
          <widget>initial_copy_internal_participant_casefolders</widget>
        </row>
        <row>
          <widget>comment</widget>
        </row>
      </rows>


      <widget name="initial_action_external_participant_casefolders" type="list">
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.external.action
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdist:initial_action_external_participant_case_folders</field>
        </fields>
        <subWidgets>
          <widget name="sender" type="text">
            <labels>
              <label mode="any"></label>
            </labels>
            <fields>
              <field></field>
            </fields>
            <properties mode="edit">
              <property name="styleClass">dataInputText</property>
            </properties>
          </widget>
        </subWidgets>
      </widget>

      <widget name="initial_copy_external_participant_casefolders" type="list">
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.external.information
          </label>
        </labels>
        <translated>true</translated>
        <fields>
          <field>cmdist:initial_copy_external_participant_case_folders</field>
        </fields>
        <subWidgets>
          <widget name="sender" type="text">
            <labels>
              <label mode="any"></label>
            </labels>
            <fields>
              <field></field>
            </fields>
            <properties mode="edit">
              <property name="styleClass">dataInputText</property>
            </properties>
          </widget>
        </subWidgets>
      </widget>

      <widget name="initial_action_internal_participant_casefolders"
        type="template">
        <fields>
          <field>cmdist:initial_action_internal_participant_case_folders</field>
        </fields>
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.internal.action
          </label>
        </labels>
        <translated>true</translated>
        <properties mode="any">
          <property name="template">
            /casemanagement_widgets/participants_suggestion_widget_template.xhtml
          </property>
        </properties>
        <properties widgetMode="edit">
          <property name="userSuggestionSearchType">USER_TYPE</property>
        </properties>
      </widget>

      <widget name="initial_copy_internal_participant_casefolders"
        type="template">
        <fields>
          <field>cmdist:initial_copy_internal_participant_case_folders</field>
        </fields>
        <labels>
          <label mode="any">
            label.casemanagement.document.initial.participant.internal.information
          </label>
        </labels>
        <translated>true</translated>
        <properties mode="any">
          <property name="template">
            /casemanagement_widgets/participants_suggestion_widget_template.xhtml
          </property>
        </properties>
        <properties widgetMode="edit">
          <property name="userSuggestionSearchType">USER_TYPE</property>
        </properties>
      </widget>

      <widget name="comment" type="textarea">
        <fields>
          <field>cslk:comment</field>
        </fields>
        <labels>
          <label mode="any">label.relation.comment</label>
        </labels>
        <translated>true</translated>
        <properties widgetMode="edit">
          <property name="cssStyleClass">dataInputText</property>
        </properties>
      </widget>

    </layout>
    
    <layout name="cm_relation_search">
      <templates>
        <template mode="any">/layouts/layout_default_template.xhtml</template>
      </templates>
      <rows>
        <row>
          <widget>predicate</widget>
        </row>
        <row>
          <widget>targetDocuments</widget>
        </row>
        <row>
          <widget>comment</widget>
        </row>
      </rows>
      <widget name="predicate" type="selectOneDirectory">
        <fields>
          <field>predicateUri</field>
        </fields>
        <labels>
          <label mode="any">label.cm.relations.predicateUri</label>
        </labels>
        <translated>true</translated>
        <properties widgetMode="any">
          <property name="directoryName">predicates</property>
          <property name="localize">true</property>
        </properties>
        <properties widgetMode="edit">
          <property name="required">true</property>
        </properties>
      </widget>
      <widget name="targetDocuments" type="template">
        <fields>
          <field>targetCreationDocuments</field>
        </fields>
        <labels>
          <label mode="any">
            label.cm.relations.targetDocuments
          </label>
        </labels>
        <translated>true</translated>
        <properties mode="any">
          <property name="required">true</property>
          <property name="template">
            /casemanagement_widgets/document_suggestion_widget_template.xhtml
          </property>
        </properties>
      </widget>
      <widget name="comment" type="textarea">
        <fields>
          <field>comment</field>
        </fields>
        <labels>
          <label mode="any">label.relation.comment</label>
        </labels>
        <translated>true</translated>
        <properties widgetMode="edit">
          <property name="cssStyleClass">dataInputText</property>
        </properties>
      </widget>
    </layout>

  </extension>

</component>
