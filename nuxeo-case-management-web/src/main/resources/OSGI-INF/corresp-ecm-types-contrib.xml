<?xml version="1.0" encoding="UTF-8"?>
<component name="com.nuxeo.correspondence.types">

  <extension target="org.nuxeo.ecm.platform.types.TypeService" point="types">

    <!-- remove useless -->
    <type id="File" remove="true" />
    <type id="Note" remove="true" />

    <type id="CorrespondenceMailboxRoot">
      <label>label.correspondence.type.CorrespondenceMailboxRoot</label>
      <icon>/icons/folder.gif</icon>
      <default-view>view_documents</default-view>
      <subtypes>
        <type>CorrespondenceMailbox</type>
      </subtypes>
      <layouts mode="any">
        <layout>heading</layout>
      </layouts>
    </type>

    <type id="CorrespondenceMailbox">
      <label>label.correspondence.type.CorrespondenceMailbox</label>
      <icon>/icons/correspondence_mailbox.png</icon>
      <default-view>mailbox_view</default-view>
      <create-view>mailbox_create</create-view>
      <layouts mode="any">
        <layout>correspondence_mailbox</layout>
        <layout>correspondence_mailbox_managers</layout>
      </layouts>
      <layouts mode="edit">
        <layout>correspondence_mailbox</layout>
        <!-- remove managers on edit (?) -->
        <layout>correspondence_mailbox_managers</layout>
      </layouts>
    </type>

    <type id="CorrespondenceMailFolder">
      <label>label.correspondence.type.CorrespondenceMailFolder</label>
      <icon>/icons/folder.gif</icon>
      <default-view>view_documents</default-view>
      <subtypes>
        <type>Folder</type>
      </subtypes>
      <layouts mode="any">
        <layout>heading</layout>
      </layouts>
    </type>

    <type id="CorrespondenceEnvelope">
      <label>label.correspondence.type.CorrespondenceEnvelope</label>
      <icon>/icons/correspondence_envelope.png</icon>
      <default-view>view_correspondence_envelope</default-view>
      <views>
        <view id="edit_outgoing_envelope" value="edit_outgoing_envelope" />
      </views>

      <subtypes>
        <type>Folder</type>
      </subtypes>
      <layouts mode="any">
        <layout>heading</layout>
      </layouts>
    </type>

    <type id="CorrespondencePost">
      <label>label.correspondence.type.CorrespondencePost</label>
      <icon>/icons/correspondence_mail.png</icon>
      <default-view>view_documents</default-view>
      <views>
        <view id="distribution_outgoing_post" value="distribution_outgoing_post" />
      </views>
      <layouts mode="any">
         <layout>distribution_outgoing_post</layout>
      </layouts>
    </type>

    <type id="IncomingCorrespondenceDocument">
      <label>label.correspondence.type.IncomingCorrespondenceDocument</label>
      <icon>/icons/correspondence_mail.png</icon>
      <default-view>view_correspondence_document</default-view>
      <create-view>create_correspondence_document</create-view>
      <layouts mode="view">
        <layout>correspondence_document</layout>
        <layout>file</layout>
      </layouts>
      <layouts mode="header">
        <layout>head_correspondence_document</layout>
        <layout>head_correspondence_incoming_document</layout>
      </layouts>
      <layouts mode="any">
        <layout>correspondence_document</layout>
        <layout>head_correspondence_incoming_document</layout>
        <layout>file</layout>
      </layouts>
    </type>

    <type id="OutgoingCorrespondenceDocument">
      <label>label.correspondence.type.OutgoingCorrespondenceDocument</label>
      <icon>/icons/correspondence_mail.png</icon>
      <default-view>view_correspondence_document</default-view>
      <create-view>create_correspondence_outgoing_document</create-view>
      <!-- TODO: create view -->
      <layouts mode="view">
        <layout>correspondence_document</layout>
        <layout>file</layout>
      </layouts>
      <layouts mode="header">
          <layout>head_correspondence_document</layout>
      </layouts>
      <layouts mode="any">
        <layout>correspondence_document</layout>
        <layout>file</layout>
      </layouts>
    </type>

  </extension>

</component>
