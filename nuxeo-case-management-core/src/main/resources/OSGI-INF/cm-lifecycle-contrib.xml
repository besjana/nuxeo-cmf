<?xml version="1.0"?>

<component name="org.nuxeo.cm.lifecycle">

  <extension target="org.nuxeo.ecm.core.lifecycle.LifeCycleService"
    point="lifecycle">

    <lifecycle name="case" defaultInitial="draft">
      <transitions>
        <transition name="send" destinationState="sent">
          <description>Send the envelope</description>
        </transition>
      </transitions>
      <transition name="delete" destinationState="deleted">
        <description>Move document to trash (temporary delete)</description>
      </transition>
      <transition name="undelete" destinationState="draft">
        <description>Recover the document from trash</description>
      </transition>
      <states>
        <state name="draft" description="Default state" initial="true">
          <transitions>
            <transition>send</transition>
            <transition>delete</transition>
          </transitions>
        </state>
        <state name="sent" description="Content has been sent" initial="true">
          <transitions></transitions>
        </state>
        <state name="deleted" description="Document is deleted">
          <transitions>
            <transition>undelete</transition>
          </transitions>
        </state>
      </states>
    </lifecycle>
  </extension>

  <extension target="org.nuxeo.ecm.core.lifecycle.LifeCycleService"
    point="types">
    <types>
      <type name="MailboxRoot">default</type>
      <type name="Mailbox">default</type>
      <type name="CaseRoot">default</type>
      <type name="Case">case</type>
      <type name="CaseLink">default</type>
      <type name="CaseItem">default</type>
      <type name="DistributionTask">documentRouteElement</type>
      <type name="GenericDistributionTask">documentRouteElement</type>
      <type name="PersonalDistributionTask">documentRouteElement</type>
      <type name="DistributionStep">documentRouteElement</type>
    </types>
  </extension>

</component>
