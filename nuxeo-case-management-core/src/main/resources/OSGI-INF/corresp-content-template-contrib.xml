<?xml version="1.0"?>
<component name="com.nuxeo.correspondence.contentTemplate">

  <require>
    org.nuxeo.ecm.platform.content.template.service.ContentTemplateService.defaultContrib
  </require>

  <extension
    target="org.nuxeo.ecm.platform.content.template.service.ContentTemplateService"
    point="factoryBinding">

    <documentation>
      Sets one domain by default, in each domain a CaseItemFolder is
      created (will hold case items in date hierarchies) and a
      CaseFolderRoot (will hold case folders).
    </documentation>

    <factoryBinding name="RootFactory" factoryName="SimpleTemplateFactory"
      targetType="Root">
      <acl>
        <ace principal="Administrator" permission="Everything" granted="true" />
        <ace principal="administrators" permission="Everything" granted="true" />
      </acl>
      <template>
        <templateItem typeName="Domain" id="case-management"
          title="Case Management" description="Case Management">
        </templateItem>
      </template>
    </factoryBinding>

    <factoryBinding name="DomainFactory" factoryName="SimpleTemplateFactory"
      targetType="Domain">
      <template>
        <templateItem typeName="CaseRoot" id="case-root"
          title="Case" />
        <templateItem typeName="CaseFolderRoot" id="case-folder-root"
          title="Case Folder" />
      </template>
    </factoryBinding>

  </extension>

</component>
