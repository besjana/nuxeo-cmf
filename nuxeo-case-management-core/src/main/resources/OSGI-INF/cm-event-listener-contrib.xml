<?xml version="1.0"?>
<component name="com.nuxeo.correspondence.eventContrib">

  <extension target="org.nuxeo.ecm.core.event.EventServiceComponent"
    point="listener">


    <listener name="classificationListener" async="false" postCommit="true"
      class="org.nuxeo.cm.core.event.ClassificationCaseFolderListener"
      priority="120">
    </listener>

    <listener name="loginSuccessListener" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.SuccessLoginListener"
      priority="150">
      <event>loginSuccess</event>
    </listener>

    <listener name="createCaseFolderd" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.CreateCaseFolderIdListener"
      priority="160">
      <event>aboutToCreate</event>
    </listener>

    <listener name="updateCaseFolderRights" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.UpdateCaseFolderRightsListener"
      priority="170">
      <event>documentCreated</event>
      <event>documentModified</event>
    </listener>

    <listener name="distributionlistener" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.DistributionListener"
      priority="180">
      <event>afterCaseSentEvent</event>
    </listener>

    <listener name="afterCaseSentEvent" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.AfterCaseSentEventListener"
      priority="190">
      <event>afterCaseSentEvent</event>
    </listener>

    <listener name="draftCreationListener" async="false" postCommit="true"
      class="org.nuxeo.cm.core.event.DraftCreationListener"
      priority="120">
      <event>afterDraftCreated</event>
    </listener>

    <listener name="draftUpdatedListener" async="false" postCommit="true"
      class="org.nuxeo.cm.core.event.DraftUpdatedListener"
      priority="120">
      <event>draftUpdated</event>
    </listener>

    <listener name="caseFolderSynchronizationListener" async="true" postCommit="false"
      class="org.nuxeo.cm.core.event.synchronization.CaseFolderSynchronizationListener"
      priority="10">
      <event>syncCaseFolder</event>
    </listener>

    <listener name="caseFolderCreatedListener" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.synchronization.CaseFolderCreatedListener"
      priority="2">
      <event>onCaseFolderCreated</event>
    </listener>

    <listener name="caseFolderUpdatedListener" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.synchronization.CaseFolderUpdatedListener"
      priority="3">
      <event>onCaseFolderUpdated</event>
    </listener>

    <listener name="caseFolderDeletedListener" async="false" postCommit="false"
      class="org.nuxeo.cm.core.event.synchronization.CaseFolderDeletedListener"
      priority="4">
      <event>onCaseFolderDeleted</event>
    </listener>

  </extension>

</component>
